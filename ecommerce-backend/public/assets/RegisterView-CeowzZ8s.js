import{d as $,v as A,r as w,x as b,b as M,e as s,u as z,f as r,g as B,h as o,i as m,y as I,j as y,t as N}from"./index-B0vVrGoP.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"text-center mt-6"},L=$({__name:"RegisterView",setup(T){const V=z(),k=A(),g=w(null),p=w(!1),c=w(!1),f=w(!1),n=b({username:"",email:"",password:"",password_confirmation:""}),l={required:t=>!!t||"This field is required",minLength:t=>e=>!e||e.length>=t||`Min ${t} characters`,email:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||"Please enter a valid email",password:t=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(t)||"Password must be at least 8 characters with letters and numbers",passwordMatch:t=>t===n.password||"Passwords must match"},i=b({show:!1,color:"success",text:""}),_=(t,e="success")=>{i.text=t,i.color=e,i.show=!0},h=async()=>{var e,v,d,u;const{valid:t}=await((e=g.value)==null?void 0:e.validate())||{valid:!1};if(!t){_("Please fix the form errors","error");return}p.value=!0;try{await k.register(n),_("Registration successful!"),V.push("/home")}catch(x){_(((u=(d=(v=x.response)==null?void 0:v.data)==null?void 0:d.status)==null?void 0:u.message)||"Registration failed","error")}finally{p.value=!1}};return(t,e)=>{const v=r("v-card-title"),d=r("v-text-field"),u=r("v-btn"),x=r("v-form"),C=r("router-link"),P=r("v-card-text"),q=r("v-card"),R=r("v-snackbar"),S=r("v-container"),U=r("v-app");return B(),M(U,null,{default:s(()=>[o(S,{fluid:"",class:"d-flex flex-column justify-center align-center fill-height"},{default:s(()=>[o(q,{class:"elevation-12",color:"blue-grey lighten-5",outlined:""},{default:s(()=>[o(v,{class:"text-center text-h4 font-weight-bold py-8 text-primary"},{default:s(()=>e[8]||(e[8]=[m(" Create Your Account ")])),_:1}),o(P,null,{default:s(()=>[o(x,{onSubmit:I(h,["prevent"]),ref_key:"form",ref:g},{default:s(()=>[o(d,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=a=>n.username=a),rules:[l.required,l.minLength(3)],label:"Username","prepend-inner-icon":"mdi-account",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),o(d,{modelValue:n.email,"onUpdate:modelValue":e[1]||(e[1]=a=>n.email=a),rules:[l.required,l.email],label:"Email","prepend-inner-icon":"mdi-email",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),o(d,{modelValue:n.password,"onUpdate:modelValue":e[2]||(e[2]=a=>n.password=a),rules:[l.required,l.password],type:c.value?"text":"password",label:"Password","prepend-inner-icon":"mdi-lock","append-inner-icon":c.value?"mdi-eye-off":"mdi-eye",variant:"outlined",class:"mb-4","onClick:appendInner":e[3]||(e[3]=a=>c.value=!c.value)},null,8,["modelValue","rules","type","append-inner-icon"]),o(d,{modelValue:n.password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=a=>n.password_confirmation=a),rules:[l.required,l.passwordMatch],type:f.value?"text":"password",label:"Confirm Password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":f.value?"mdi-eye-off":"mdi-eye",variant:"outlined",class:"mb-6","onClick:appendInner":e[5]||(e[5]=a=>f.value=!f.value)},null,8,["modelValue","rules","type","append-inner-icon"]),o(u,{type:"submit",color:"primary",size:"large",block:"",rounded:"",elevation:"2",loading:p.value,disabled:p.value},{default:s(()=>e[9]||(e[9]=[m(" Register ")])),_:1},8,["loading","disabled"])]),_:1},512),y("div",D,[e[11]||(e[11]=y("span",{class:"grey--text text--darken-1"},"Already have an account?",-1)),o(C,{to:"/login",class:"text-primary font-weight-medium text-decoration-none"},{default:s(()=>e[10]||(e[10]=[m(" Sign in ")])),_:1})])]),_:1})]),_:1}),o(R,{modelValue:i.show,"onUpdate:modelValue":e[7]||(e[7]=a=>i.show=a),color:i.color,timeout:3e3,rounded:""},{actions:s(()=>[o(u,{color:"white",variant:"text",onClick:e[6]||(e[6]=a=>i.show=!1)},{default:s(()=>e[12]||(e[12]=[m(" Close ")])),_:1})]),default:s(()=>[m(N(i.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1})]),_:1})}}}),Y=j(L,[["__scopeId","data-v-8c896139"]]);export{Y as default};
