import{d as e,v as a,r as l,x as t,b as s,e as r,u as n,f as o,g as i,h as d,i as u,y as c,j as m,t as p}from"./index-IlJQo5zm.js";import{_ as v}from"./_plugin-vue_export-helper-BCo6x5W8.js";const f={class:"text-center mt-6"},h=v(e({__name:"RegisterView",setup(e){const v=n(),h=a(),w=l(null),g=l(!1),x=l(!1),y=l(!1),_=t({username:"",email:"",password:"",password_confirmation:""}),b={required:e=>!!e||"This field is required",minLength:e=>a=>!a||a.length>=e||`Min ${e} characters`,email:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Please enter a valid email",password:e=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e)||"Password must be at least 8 characters with letters and numbers",passwordMatch:e=>e===_.password||"Passwords must match"},V=t({show:!1,color:"success",text:""}),k=(e,a="success")=>{V.text=e,V.color=a,V.show=!0},q=async()=>{var e,a,l,t;const{valid:s}=await(null==(e=w.value)?void 0:e.validate())||{valid:!1};if(s){g.value=!0;try{await h.register(_),k("Registration successful!"),v.push("/home")}catch(r){k((null==(t=null==(l=null==(a=r.response)?void 0:a.data)?void 0:l.status)?void 0:t.message)||"Registration failed","error")}finally{g.value=!1}}else k("Please fix the form errors","error")};return(e,a)=>{const l=o("v-card-title"),t=o("v-text-field"),n=o("v-btn"),v=o("v-form"),h=o("router-link"),k=o("v-card-text"),C=o("v-card"),P=o("v-snackbar"),U=o("v-container"),j=o("v-app");return i(),s(j,null,{default:r((()=>[d(U,{fluid:"",class:"d-flex flex-column justify-center align-center fill-height"},{default:r((()=>[d(C,{class:"elevation-12",color:"blue-grey lighten-5",outlined:""},{default:r((()=>[d(l,{class:"text-center text-h4 font-weight-bold py-8 text-primary"},{default:r((()=>a[8]||(a[8]=[u(" Create Your Account ")]))),_:1}),d(k,null,{default:r((()=>[d(v,{onSubmit:c(q,["prevent"]),ref_key:"form",ref:w},{default:r((()=>[d(t,{modelValue:_.username,"onUpdate:modelValue":a[0]||(a[0]=e=>_.username=e),rules:[b.required,b.minLength(3)],label:"Username","prepend-inner-icon":"mdi-account",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),d(t,{modelValue:_.email,"onUpdate:modelValue":a[1]||(a[1]=e=>_.email=e),rules:[b.required,b.email],label:"Email","prepend-inner-icon":"mdi-email",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),d(t,{modelValue:_.password,"onUpdate:modelValue":a[2]||(a[2]=e=>_.password=e),rules:[b.required,b.password],type:x.value?"text":"password",label:"Password","prepend-inner-icon":"mdi-lock","append-inner-icon":x.value?"mdi-eye-off":"mdi-eye",variant:"outlined",class:"mb-4","onClick:appendInner":a[3]||(a[3]=e=>x.value=!x.value)},null,8,["modelValue","rules","type","append-inner-icon"]),d(t,{modelValue:_.password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=e=>_.password_confirmation=e),rules:[b.required,b.passwordMatch],type:y.value?"text":"password",label:"Confirm Password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":y.value?"mdi-eye-off":"mdi-eye",variant:"outlined",class:"mb-6","onClick:appendInner":a[5]||(a[5]=e=>y.value=!y.value)},null,8,["modelValue","rules","type","append-inner-icon"]),d(n,{type:"submit",color:"primary",size:"large",block:"",rounded:"",elevation:"2",loading:g.value,disabled:g.value},{default:r((()=>a[9]||(a[9]=[u(" Register ")]))),_:1},8,["loading","disabled"])])),_:1},512),m("div",f,[a[11]||(a[11]=m("span",{class:"grey--text text--darken-1"},"Already have an account?",-1)),d(h,{to:"/login",class:"text-primary font-weight-medium text-decoration-none"},{default:r((()=>a[10]||(a[10]=[u(" Sign in ")]))),_:1})])])),_:1})])),_:1}),d(P,{modelValue:V.show,"onUpdate:modelValue":a[7]||(a[7]=e=>V.show=e),color:V.color,timeout:3e3,rounded:""},{actions:r((()=>[d(n,{color:"white",variant:"text",onClick:a[6]||(a[6]=e=>V.show=!1)},{default:r((()=>a[12]||(a[12]=[u(" Close ")]))),_:1})])),default:r((()=>[u(p(V.text)+" ",1)])),_:1},8,["modelValue","color"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-8c896139"]]);export{h as default};
